<link
	rel="stylesheet"
	type="text/css"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
/>
<link
	rel="stylesheet"
	type="text/css"
	href="https://pixinvent.com/stack-responsive-bootstrap-4-admin-template/app-assets/css/bootstrap-extended.min.css"
/>
<link
	rel="stylesheet"
	type="text/css"
	href="https://pixinvent.com/stack-responsive-bootstrap-4-admin-template/app-assets/fonts/simple-line-icons/style.min.css"
/>
<link
	rel="stylesheet"
	type="text/css"
	href="https://pixinvent.com/stack-responsive-bootstrap-4-admin-template/app-assets/css/colors.min.css"
/>
<link
	rel="stylesheet"
	type="text/css"
	href="https://pixinvent.com/stack-responsive-bootstrap-4-admin-template/app-assets/css/bootstrap.min.css"
/>
<link
	href="https://fonts.googleapis.com/css?family=Montserrat&display=swap"
	rel="stylesheet"
/>

<div class="px-4 py-5">
	<h2 class="display-6 fw-bold">Study Sessions</h2>
	<div class="row main_card mt-3">
		<div
			*ngFor="let studySession of studySessions | async"
			class="col-6"
			[routerLink]="['/study-session-notes', studySession.session_id]"
		>
			<div class="card overflow-hidden">
				<div class="card-content">
					<div class="card-body cleartfix">
						<div class="media align-items-stretch">
							<div class="align-self-center">
								<i
									class="icon-pencil primary font-large-1 mr-2"
								></i>
							</div>
							<div class="media-body">
								<h3>{{ studySession.session_name }}</h3>
								<span class="me-auto d-flex flex-column">
									<span class="date">{{
										studySession.created_at
											| date : "longDate"
									}}</span>
									<span class="time">
										{{
											studySession.created_at
												| date : "shortTime"
										}}
										-
										{{
											studySession.ended_at
												| date : "shortTime"
										}}
									</span>
								</span>
							</div>
							<div class="align-self-center">
								<p class="ms-auto">
									<a
										[routerLink]="[
											'/study-session-stats',
											studySession.session_id
										]"
										class="btn btn-primary btn-sm ms-2 pill-button"
										>Session Statistics</a
									>
								</p>
								<p class="ms-auto">
									<a
										routerLink="/study-session-quiz"
										[routerLink]="[
											'/study-session-quiz',
											studySession.session_id
										]"
										class="btn btn-primary btn-sm ms-2 pill-button"
										>Take Quiz</a
									>
								</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<h2 class="display-6 fw-bold">Study Statistics Over Time</h2>
	<div class="row main_card mt-3">
		<div class="col-6">
			<div class="card overflow-hidden">
				<div class="card-content">
					<div class="card-body cleartfix">
						<div class="media align-items-stretch">
							<div class="align-self-center"></div>
							<div class="media-body"></div>
							<div class="align-self-center">
								<img
									style="width: 100%; height: 100%"
									[src]="
										'data:image/png;base64,' +
										globalStats.pie_chart
									"
									alt="Image"
								/>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-6">
			<div class="card overflow-hidden">
				<div class="card-content">
					<div class="card-body cleartfix">
						<div class="media align-items-stretch">
							<div class="align-self-center"></div>
							<div class="media-body"></div>
							<div class="align-self-center">
								<img
									style="width: 100%; height: 100%"
									[src]="
										'data:image/png;base64,' +
										globalStats.bar_graph
									"
									alt="Image"
								/>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-6">
			<div class="card overflow-hidden">
				<div class="card-content">
					<div class="card-body cleartfix">
						<div class="media align-items-stretch">
							<div class="align-self-center"></div>
							<div class="media-body"></div>
							<div class="align-self-center">
								<img
									style="width: 100%; height: 100%"
									[src]="
										'data:image/png;base64,' +
										globalStats.line_chart
									"
									alt="Image"
								/>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
